<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <title>å…¨çƒæœºåœºé›ªèŒ„ä»·æ ¼æŸ¥è¯¢</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body {
        font-family: sans-serif;
        max-width: 700px;
        margin: 2rem auto;
        padding: 1rem;
      }
      h1 {
        font-size: 1.8rem;
      }
      label, select, input {
        margin-top: 1rem;
        display: block;
        font-size: 1rem;
      }
      ul {
        margin-top: 1rem;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      function App() {
        const data = {
          HKG: [
            { brand: "Cohiba Siglo VI", price: "HKD 580/æ”¯" },
            { brand: "Montecristo No.2", price: "HKD 410/æ”¯" }
          ],
          DXB: [
            { brand: "Cohiba Siglo VI", price: "USD 65/æ”¯" },
            { brand: "Romeo y Julieta Churchill", price: "USD 45/æ”¯" }
          ],
          CDG: [
            { brand: "Montecristo Edmundo", price: "EUR 22/æ”¯" }
          ]
        };

        const [searchTerm, setSearchTerm] = React.useState("");

        const filteredResults = Object.entries(data).flatMap(([airport, items]) =>
          items
            .filter(item => item.brand.toLowerCase().includes(searchTerm.toLowerCase()))
            .map(item => ({ ...item, airport }))
        );

        return (
          <main>
            <h1>ğŸŒ å…¨çƒæœºåœºé›ªèŒ„ä»·æ ¼æŸ¥è¯¢</h1>

            <label>è¾“å…¥å“ç‰Œåç§°ï¼š</label>
            <input
              type="text"
              placeholder="å¦‚ Cohibaã€Montecristo..."
              value={searchTerm}
              onChange={e => setSearchTerm(e.target.value)}
            />

            <ul>
              {filteredResults.length > 0 ? (
                filteredResults.map((item, index) => (
                  <li key={index}>
                    {item.airport} â€“ {item.brand} â€“ {item.price}
                  </li>
                ))
              ) : (
                <li style={{ color: 'gray' }}>è¯·è¾“å…¥å“ç‰Œå…³é”®å­—è¿›è¡Œæœç´¢</li>
              )}
            </ul>
          </main>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
